ç®€ä½“ä¸­æ–‡|[English](./README.md) 

# SimpleRAG

## A simple RAG demo based on WPF and Semantic Kernel.âœ¨

SimpleRAGæ˜¯åŸºäºWPFä¸Semantic Kernelå®ç°çš„ä¸€ä¸ªç®€å•çš„RAGåº”ç”¨ï¼Œå¯ç”¨äºå­¦ä¹ ä¸ç†è§£å¦‚ä½•ä½¿ç”¨Semantic Kernelæ„å»ºRAGåº”ç”¨ã€‚

## ä¸»è¦åŠŸèƒ½âœ¨

### AIèŠå¤©

æ”¯æŒæ‰€æœ‰å…¼å®¹OpenAIæ ¼å¼çš„å¤§è¯­è¨€æ¨¡å‹ï¼š

![image-20240819163701855](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819163701855.png)

### æ–‡æœ¬åµŒå…¥

æ”¯æŒæ‰€æœ‰å…¼å®¹OpenAIæ ¼å¼çš„åµŒå…¥æ¨¡å‹ï¼š

![image-20240819163900106](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819163900106.png)

### ç®€å•çš„RAGå›ç­”

ç®€å•çš„RAGå›ç­”æ•ˆæœï¼š

![image-20240819164221306](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819164221306.png)

å¯¹æ¯”ä¸ä½¿ç”¨RAGçš„å›ç­”ï¼š

![image-20240819164322893](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819164322893.png)

### æµ‹è¯•Function Calling

æµ‹è¯•Function Callingå›ç­”æ•ˆæœï¼š

![](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240828162408978.png)

å¯¹æ¯”ä¸€ä¸‹ä¸ä½¿ç”¨FunctionCallingçš„æ•ˆæœï¼š

![image-20240828162455519](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240828162455519.png)

ç»è¿‡æµ‹è¯•è¿™ç§æ–¹æ³•å¯ç”¨çš„LLMï¼š

| å¹³å°       | å¯ç”¨æ¨¡å‹                                                     |
| ---------- | ------------------------------------------------------------ |
| ç¡…åŸºæµåŠ¨   | Llama-3.1-405/70/8Bã€Llama-3-70/8B-Instructã€DeepSeek-V2-Chatã€deepseek-llm-67b-chatã€Qwen2-72/57/7/1.5B-Instructã€Qwen2-57B-A14B-Instructã€Qwen1.5-110/32/14B-Chatã€Qwen2-Math-72B-Instructã€Yi-1.5-34/9/6B-Chat-16Kã€internlm2_5-20/7b-chat |
| è®¯é£æ˜Ÿç«   | Spark Liteã€Spark Pro-128Kã€Spark Maxã€Spark4.0 Ultra        |
| é›¶ä¸€ä¸‡ç‰©   | yi-largeã€yi-mediumã€yi-sparkã€yi-large-ragã€yi-large-fcã€yi-large-turbo |
| æœˆä¹‹æš—é¢   | moonshot-v1-8kã€moonshot-v1-32kã€moonshot-v1-128k            |
| æ™ºè°±AI     | glm-4-0520ã€glm-4ã€glm-4-airã€glm-4-airxã€glm-4-flashã€glm-4vã€glm-3-turbo |
| DeepSeek   | deepseek-chatã€deepseek-coder                                |
| é˜¶è·ƒæ˜Ÿè¾°   | step-1-8kã€step-1-32kã€step-1-128kã€step-2-16k-nightlyã€step-1-flash |
| Minimax    | abab6.5s-chatã€abab5.5-chat                                  |
| é˜¿é‡Œäº‘ç™¾ç‚¼ | qwen-maxã€qwen2-math-72b-instructã€qwen-max-0428ã€qwen2-72b-instructã€qwen2-57b-a14b-instructã€qwen2-7b-instruct |

ä»¥ä¸Šä¸ä¸€å®šå®Œå¤‡ï¼Œè¿˜æœ‰ä¸€äº›æ¨¡å‹æ²¡æµ‹ï¼Œæ¬¢è¿å¤§å®¶ç»§ç»­è¡¥å……ã€‚

## å¿«é€Ÿä½“éªŒğŸš€

æ¥åˆ°SimpleRAGçš„GitHubå‚è€ƒï¼Œæ³¨æ„åˆ°è¿™é‡Œæœ‰ä¸ªReleasesï¼š

![image-20240822100649148](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822100649148.png)

ç‚¹å‡»SimpleRAG-v0.0.1ï¼Œæœ‰ä¸¤ä¸ªå‹ç¼©åŒ…ï¼Œä¸€ä¸ªä¾èµ–net8.0-windowsæ¡†æ¶ï¼Œä¸€ä¸ªç‹¬ç«‹ï¼š

![image-20240822100817138](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822100817138.png)

ä¾èµ–æ¡†æ¶çš„åŒ…ä¼šå°ä¸€äº›ï¼Œç‹¬ç«‹çš„åŒ…ä¼šå¤§ä¸€äº›ï¼Œå¦‚æœä½ çš„ç”µè„‘å·²ç»è£…äº†net8.0-windowsæ¡†æ¶å¯ä»¥é€‰æ‹©ä¾èµ–æ¡†æ¶çš„åŒ…ï¼Œè€ƒè™‘åˆ°å¯èƒ½å¤§éƒ¨åˆ†äººä¸ä¸€å®šè£…äº†net8.0-windowsæ¡†æ¶ï¼Œæˆ‘ä»¥ç‹¬ç«‹çš„åŒ…åšæ¼”ç¤ºï¼Œç‚¹å‡»å‹ç¼©åŒ…ï¼Œå°±åœ¨ä¸‹è½½äº†ï¼š

![image-20240822101244281](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822101244281.png)

è§£å‹è¯¥å‹ç¼©åŒ…ï¼š

![image-20240822101450182](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822101450182.png)

æ‰“å¼€appsettings.jsonæ–‡ä»¶ï¼š

![image-20240822101600329](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822101600329.png)

appsettings.jsonæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240822101740892](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822101740892.png)

é»˜è®¤æ˜¯ä½¿ç”¨SiliconCloudçš„apiï¼Œåªéœ€å¡«å…¥ä½ çš„SiliconCloudçš„Api Keyå³å¯ï¼Œå®Œæˆåï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240822102046293](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102046293.png)

ç°åœ¨ç‚¹å‡»SimpleRAG.exeå³å¯è¿è¡Œç¨‹åºï¼š

![image-20240822102117959](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102117959.png)

ç¨‹åºè¿è¡Œä¹‹åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240822102215516](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102215516.png)

å…ˆé€šè¿‡AIèŠå¤©æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸï¼š

![image-20240822102306935](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102306935.png)

é…ç½®å·²ç»æˆåŠŸã€‚

ç°åœ¨æ¥æµ‹è¯•ä¸€ä¸‹åµŒå…¥ã€‚

å…ˆæ‹¿ä¸€ä¸ªç®€å•çš„æ–‡æœ¬è¿›è¡Œæµ‹è¯•ï¼š

```csharp
å°næœ€å–œæ¬¢åƒçš„æ°´æœæ˜¯è¥¿ç“œã€‚
```

![image-20240822102445438](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102445438.png)

åµŒå…¥æˆåŠŸï¼š

![image-20240822102504358](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102504358.png)

è¿™ä¸ªDemoç¨‹åºä¸ºäº†æ–¹ä¾¿å­˜å‚¨æ–‡æœ¬å‘é‡ä½¿ç”¨çš„æ˜¯Sqliteæ•°æ®åº“ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼š

![image-20240822102554159](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102554159.png)

å¦‚æœä½ æœ‰æ•°æ®åº“ç®¡ç†è½¯ä»¶çš„è¯ï¼Œæ‰“å¼€è¯¥æ•°æ®åº“ï¼Œä¼šå‘ç°æ–‡æœ¬å·²ç»ä»¥å‘é‡çš„å½¢å¼å­˜å…¥Sqliteæ•°æ®åº“ä¸­ï¼š

![image-20240822102822026](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102822026.png)

ç°åœ¨å¼€å§‹æµ‹è¯•RAGå›ç­”æ•ˆæœï¼š

![image-20240822102901171](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102901171.png)

å¯¹æ¯”ä¸ä½¿ç”¨RAGçš„å›ç­”æ•ˆæœï¼š

![image-20240822102956395](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240822102956395.png)

å¯ä»¥å‘ç°å¤§è¯­è¨€æ¨¡å‹æ ¹æœ¬ä¸çŸ¥é“æˆ‘ä»¬æƒ³é—®çš„ç§æœ‰æ•°æ®çš„äº‹æƒ…ï¼Œå‡ºç°äº†å¹»è§‰ã€‚

ä»¥ä¸Šå°±æˆåŠŸä½¿ç”¨SiliconCloudä½“éªŒäº†SimpleRAGã€‚

å®ç°çš„åŸç†ï¼Œåœ¨æˆ‘çš„è¿™ç¯‡æ–‡ç« ä¸­æœ‰è¿›è¡Œä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼š

[SemanticKernel/C#ï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)ç®€æ˜“å®è·µ](https://mp.weixin.qq.com/s/0Q0vk9SPuH6k6AnMffp8Iw)

## ä»æºç æ„å»ºğŸš€

git cloneåˆ°æœ¬åœ°ï¼Œæ‰“å¼€appsettings.example.jsonæ–‡ä»¶ï¼š

![image-20240819164816557](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819164816557.png)

å¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240819164844061](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819164844061.png)

ChatAIç”¨äºé…ç½®å¯¹è¯æ¨¡å‹ï¼ŒEmbeddingç”¨äºé…ç½®åµŒå…¥æ¨¡å‹ï¼ŒTextChunkerç”¨äºé…ç½®æ–‡æ¡£åˆ‡ç‰‡å¤§å°ã€‚

è¿˜æ˜¯ä»¥SiliconCloudä¸ºä¾‹ï¼Œåªéœ€å¡«å…¥ä½ çš„api key å¹¶å°†æ–‡ä»¶åæ”¹ä¸ºappsettings.jsonï¼Œæˆ–è€…æ–°å»ºä¸€ä¸ªappsettings.jsonå³å¯ã€‚

é…ç½®å®Œæˆå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240819165255285](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165255285.png)

IDE:VS2022 

.NET ç‰ˆæœ¬ï¼š.NET 8

æ‰“å¼€è§£å†³æ–¹æ¡ˆï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240819165459846](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165459846.png)



è¿è¡Œç¨‹åºï¼š

![image-20240819165551772](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165551772.png)

æµ‹è¯•AIèŠå¤©ï¼š

![image-20240819165652624](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165652624.png)

æµ‹è¯•åµŒå…¥ï¼š

![image-20240819165803024](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165803024.png)

ä½¿ç”¨çš„æ˜¯Sqliteä¿å­˜å‘é‡ï¼Œå¯ä»¥åœ¨Debugæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°è¿™ä¸ªæ•°æ®åº“ï¼š

![image-20240819165854807](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819165854807.png)

æ‰“å¼€è¯¥æ•°æ®åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20240819170059576](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819170059576.png)

æµ‹è¯•RAGå›ç­”ï¼š

![image-20240819170128226](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/image-20240819170128226.png)

## æœ€åâœ¨

å¦‚æœå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œç‚¹ä¸ªstarâœ¨ï¼Œå°±æ˜¯æœ€å¤§çš„æ”¯æŒğŸ˜Šã€‚

å¦‚æœæ‚¨çœ‹äº†è¿™ä¸ªæŒ‡å—ï¼Œè¿˜æ˜¯é‡åˆ°äº†é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡å…¬ä¼—å·è”ç³»æˆ‘ï¼š

![qrcode_for_gh_eb0908859e11_344](https://mingupupup.oss-cn-wuhan-lr.aliyuncs.com/imgs/qrcode_for_gh_eb0908859e11_344.jpg)
